{% extends 'main.html' %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/form.css') }}">
<title>Add working time</title>
{% endblock %}

{% block top %}
<a href="/time/{{ name }}" id="back"><div class="thick-arrow-left"></div></a>
<a href="/main" id="aclose"><div class="close"></div></a>
{% endblock %}

{% block bot %}
<form id="stockForm" action="/time/{{ name }}/add" method="post" onsubmit="return validateForm()">
  <br><br><br><br>
  
  <label class="l-lab" for="entryTime">Time of Entry:</label>
  <input class="l-inp" type="time" id="entryTime" name="entryTime" required>
  <br><br>
  
  <label class="l-lab" for="departureTime">Departure Time:</label>
  <input class="l-inp" type="time" id="departureTime" name="departureTime" required>
  <br><br>
  
  <label class="l-lab" for="workerSelector">Select Worker:</label>
  <select class="l-inp" id="workerSelector" name="workerSelector" required>
    {% for worker in workers %}
      <option value="{{ worker.id }}">{{ worker.name }}</option>
    {% endfor %}
  </select>
  <br><br>
  
  <button type="submit" id="submitButton" class="button-19 cen">Submit</button>
  <br><br><br>
</form>

<script>
  function validateForm() {
    var entryTime = document.getElementById("entryTime").value;
    var departureTime = document.getElementById("departureTime").value;
    var submitButton = document.getElementById("submitButton");

    if (entryTime >= departureTime) {
      alert("Departure time must be later than the entry time");
      return false;
    }

    return true;
  }
</script>
{% endblock %}
